<div class="challenge-form-container">
    <h2>爪专转 转专 砖 </h2>

    <form (ngSubmit)="onSubmit()" #challengeForm="ngForm">
        
        <div class="form-group">
            <label for="name">砖 转专:</label>
            <input type="text" id="name" name="name" [(ngModel)]="newChallenge.name" 
                   required
                   minlength="2"
                   maxlength="100">

            @if (challengeForm.controls?.['name']?.invalid && (challengeForm.controls['name'].dirty || challengeForm.controls['name'].touched)) {
                <div class="error-message">
                    @if (challengeForm.controls['name']?.errors?.['required']) {
                        <p>砖 转专  砖 .</p>
                    }
                    @if (challengeForm.controls['name']?.errors?.['minlength']) {
                        <p>砖 转专   驻转 2 转.</p>
                    }
                    @if (challengeForm.controls['name']?.errors?.['maxlength']) {
                        <p>砖 转专   注 100 转 .</p>
                    }
                </div>
            }
        </div>
        
        <div class="form-group">
            <label for="description">转专:</label>
            <textarea id="description" name="description" [(ngModel)]="newChallenge.description" 
                      required
                     minlength="10"
                      maxlength="700"></textarea>

            @if (challengeForm.controls?.['description']?.invalid && (challengeForm.controls['description'].dirty || challengeForm.controls['description'].touched)) {
                <div class="error-message">
                    @if (challengeForm.controls['description']?.errors?.['required']) {
                        <p>转专 转专  砖 .</p>
                    }
                    @if (challengeForm.controls['description']?.errors?.['minlength']) {
                        <p>转专 拽爪专  ( 10 转).</p>
                    }
                    @if (challengeForm.controls['description']?.errors?.['maxlength']) {
                        <p>转专 专  (拽住 700 转).</p>
                    }
                </div>
            }
        </div>
        
        <div class="form-group">
            <label for="numOfDays">住驻专 :</label>
            <input type="number" id="numOfDays" name="numOfDays" [(ngModel)]="newChallenge.numOfDays" 
                   required 
                   min="1"
                   max="365">

            @if (challengeForm.controls?.['numOfDays']?.invalid && (challengeForm.controls['numOfDays'].dirty || challengeForm.controls['numOfDays'].touched)) {
                <div class="error-message">
                    @if (challengeForm.controls['numOfDays']?.errors?.['required']) {
                        <p>住驻专   砖 .</p>
                    }
                    @if (challengeForm.controls['numOfDays']?.errors?.['min']) {
                        <p>住驻专    1.</p>
                    }
                    @if (challengeForm.controls['numOfDays']?.errors?.['max']) {
                        <p>住驻专  拽住  365.</p>
                    }
                </div>
            }
        </div>
        
        <div class="form-group">
            <label for="file">专 转 (驻爪):</label>
            <input type="file" id="file" name="fileInput" (change)="onFileSelected($event)" accept="image/*">
            </div>

        <button type="submit" [disabled]="challengeForm.invalid || uploading">
            {{ uploading ? '注...' : '爪专 转专' }}
        </button>

        @if (successMessage) {
            <p class="success">{{ successMessage }}</p>
        }
        @if (errorMessage) {
            <p class="error">{{ errorMessage }}</p>
        }
    </form>
</div>